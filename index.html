<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emprende Smart - Curso de IA</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Barra de navegaci贸n -->
    <nav class="navbar">
        <div class="nav-container">
            <h1 class="logo"> Emprende Smart</h1>
            <div class="nav-buttons">
                <button id="changeNameBtn" class="btn btn-secondary btn-sm" style="display: none;">
                    <i class="fas fa-user-edit"></i> Cambiar Nombre
                </button>
                <button id="viewModeBtn" class="btn btn-secondary">
                    <i class="fas fa-eye"></i> Vista Estudiante
                </button>
                <button id="adminModeBtn" class="btn btn-primary">
                    <i class="fas fa-cog"></i> Administraci贸n
                </button>
                <button id="logoutBtn" class="btn btn-danger" style="display: none;">
                    <i class="fas fa-sign-out-alt"></i> Cerrar Sesi贸n
                </button>
            </div>
        </div>
    </nav>

    <!-- Vista de Estudiante -->
    <div id="studentView" class="view active">
        <div class="student-name-banner" id="studentNameBanner" style="display: none;">
            <h1 class="student-name-display" id="studentNameDisplay"></h1>
        </div>
        <div class="container">
            <header class="course-header">
                <h2>Curso: Emprende Smart con Inteligencia Artificial</h2>
                <p class="subtitle">Aprende a dominar la IA para tu negocio</p>
            </header>

            <div id="modulesContainer" class="modules-grid">
                <!-- Los m贸dulos se cargar谩n din谩micamente -->
            </div>
        </div>
    </div>

    <!-- Vista de Administraci贸n -->
    <div id="adminView" class="view">
        <div class="container">
            <header class="admin-header">
                <h2><i class="fas fa-cog"></i> Panel de Administraci贸n</h2>
                <p>Gestiona m贸dulos y recursos del curso</p>
            </header>

            <!-- Secci贸n de M贸dulos -->
            <section class="admin-section">
                <div class="section-header">
                    <h3><i class="fas fa-folder"></i> M贸dulos del Curso</h3>
                    <button id="addModuleBtn" class="btn btn-success">
                        <i class="fas fa-plus"></i> Nuevo M贸dulo
                    </button>
                </div>

                <div id="modulesAdminContainer" class="admin-list">
                    <!-- Los m贸dulos se cargar谩n din谩micamente -->
                </div>
            </section>
        </div>
    </div>

    <!-- Modal para Agregar/Editar M贸dulo -->
    <div id="moduleModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Nuevo M贸dulo</h3>
                <button class="modal-close" id="closeModuleModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="moduleForm">
                    <div class="form-group">
                        <label for="moduleName">Nombre del M贸dulo</label>
                        <input type="text" id="moduleName" required placeholder="Ej: Ingenier铆a de Prompts">
                    </div>
                    <div class="form-group">
                        <label for="moduleIcon">Icono del M贸dulo (Opcional)</label>
                        <input type="text" id="moduleIcon" placeholder=" o deja vac铆o para sin icono" maxlength="2">
                        <small class="form-help">Puedes usar un emoji o dejarlo vac铆o</small>
                    </div>
                    <div class="form-group">
                        <label for="moduleDescription">Descripci贸n</label>
                        <textarea id="moduleDescription" rows="3" placeholder="Descripci贸n del m贸dulo..."></textarea>
                    </div>
                    <div class="form-group">
                        <label for="moduleOrder">Orden</label>
                        <input type="number" id="moduleOrder" min="1" required>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="cancelModuleBtn">Cancelar</button>
                        <button type="submit" class="btn btn-primary">Guardar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal para Nombre del Estudiante -->
    <div id="studentNameModal" class="modal">
        <div class="modal-content modal-small">
            <div class="modal-header">
                <h3><i class="fas fa-user"></i> Identificaci贸n del Estudiante</h3>
            </div>
            <div class="modal-body">
                <form id="studentNameForm">
                    <div class="form-group">
                        <label for="studentName">Nombre del Estudiante</label>
                        <input type="text" id="studentName" required placeholder="Ingresa tu nombre completo" autofocus>
                        <small class="form-help">Este nombre se mostrar谩 en la parte superior de la pantalla</small>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary btn-block">
                            <i class="fas fa-check"></i> Continuar
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal de Login -->
    <div id="loginModal" class="modal">
        <div class="modal-content modal-small">
            <div class="modal-header">
                <h3><i class="fas fa-lock"></i> Acceso de Administraci贸n</h3>
            </div>
            <div class="modal-body">
                <form id="loginForm">
                    <div class="form-group">
                        <label for="password">Contrase帽a</label>
                        <input type="password" id="password" required placeholder="Ingresa la contrase帽a" autofocus>
                        <small class="form-help">Ingresa la contrase帽a para acceder al panel de administraci贸n</small>
                    </div>
                    <div id="loginError" class="error-message" style="display: none;">
                        <i class="fas fa-exclamation-circle"></i> Contrase帽a incorrecta
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary btn-block">
                            <i class="fas fa-sign-in-alt"></i> Ingresar
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal para Agregar/Editar Cap铆tulo -->
    <div id="chapterModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="chapterModalTitle">Nuevo Cap铆tulo</h3>
                <button class="modal-close" id="closeChapterModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="chapterForm">
                    <input type="hidden" id="chapterModuleId">
                    <div class="form-group">
                        <label for="chapterName">Nombre del Cap铆tulo</label>
                        <input type="text" id="chapterName" required placeholder="Ej: Introducci贸n a la IA">
                    </div>
                    <div class="form-group">
                        <label for="chapterDescription">Descripci贸n (opcional)</label>
                        <textarea id="chapterDescription" rows="2" placeholder="Descripci贸n del cap铆tulo..."></textarea>
                    </div>
                    <div class="form-group">
                        <label for="chapterOrder">Orden dentro del m贸dulo</label>
                        <input type="number" id="chapterOrder" min="1" required>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="cancelChapterBtn">Cancelar</button>
                        <button type="submit" class="btn btn-primary">Guardar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal para Agregar/Editar Recurso -->
    <div id="resourceModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="resourceModalTitle">Nuevo Recurso</h3>
                <button class="modal-close" id="closeResourceModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="resourceForm">
                    <input type="hidden" id="resourceModuleId">
                    <input type="hidden" id="resourceChapterId">
                    <div class="form-group">
                        <label for="resourceTitle">T铆tulo del Recurso</label>
                        <input type="text" id="resourceTitle" required placeholder="Ej: Plataforma de Entrenamiento PER-T-CO-F">
                    </div>
                    <div class="form-group">
                        <label for="resourceUrl">URL o Ruta del Recurso</label>
                        <input type="text" id="resourceUrl" required placeholder="https://... o pdfs/archivo.pdf">
                        <small class="form-help" id="urlHelp">Para PDFs: sube el archivo a la carpeta "pdfs" en GitHub y usa "pdfs/nombre.pdf"</small>
                    </div>
                    <div class="form-group">
                        <label for="resourceChapter">Cap铆tulo</label>
                        <select id="resourceChapter" required>
                            <option value="">Selecciona un cap铆tulo</option>
                        </select>
                        <small class="form-help">El recurso se agregar谩 a este cap铆tulo</small>
                    </div>
                    <div class="form-group">
                        <label for="resourceType">Tipo de Recurso</label>
                        <select id="resourceType" required>
                            <option value="link">Enlace Web</option>
                            <option value="pdf">PDF (Taller/Reto/Actividad)</option>
                            <option value="video">Video</option>
                            <option value="document">Documento</option>
                            <option value="platform">Plataforma</option>
                            <option value="other">Otro</option>
                        </select>
                    </div>
                    <div class="form-group" id="fileUploadGroup" style="display: none;">
                        <label for="fileUpload">Subir PDF (Opcional)</label>
                        <input type="file" id="fileUpload" accept=".pdf">
                        <small class="form-help">Si subes un archivo, se guardar谩 localmente. Para producci贸n, sube el PDF a GitHub en la carpeta "pdfs" y usa la ruta relativa.</small>
                    </div>
                    <div class="form-group">
                        <label for="resourceDescription">Descripci贸n (opcional)</label>
                        <textarea id="resourceDescription" rows="2" placeholder="Breve descripci贸n del recurso..."></textarea>
                    </div>
                    <div class="form-group">
                        <label for="resourceOrder">Orden dentro del cap铆tulo</label>
                        <input type="number" id="resourceOrder" min="1" required>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="cancelResourceBtn">Cancelar</button>
                        <button type="submit" class="btn btn-primary">Guardar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>

